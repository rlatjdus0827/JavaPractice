<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script>
	window.onload = init;
	function init() {
		document.querySelector("#btn1").addEventListener("click", f1);
		document.querySelector("#btn2").addEventListener("click", f2);
		document.querySelector("#btn3").addEventListener("click", f3);
		document.querySelector("#btn4").addEventListener("click", f4);
		document.querySelector("#btn5").addEventListener("click", f5);
		document.querySelector("#btn6").addEventListener("click", f6);//f6()함수를 호출하면 눌렀을때부터 1초씩 시간이 감
		document.querySelector("#btn7").addEventListener("click", f7);
		document.querySelector("#btn8").addEventListener("click", f8);
		document.querySelector("#btn9").addEventListener("click", f9);
		document.querySelector("#btn10").addEventListener("click", f10);
		document.querySelector("#btn11").addEventListener("click", f11);
		document.querySelector("#btn12").addEventListener("click", f12);
		document.querySelector("#btn13").addEventListener("click", f13);
		document.querySelector("#btn14").addEventListener("click", f14);
		document.querySelector("#btn15").addEventListener("click", f15);
		document.querySelector("#btn16").addEventListener("click", f16);
	}
	function f16() {
		call16(100);
	}
	function call16(a,b=200,c=300) {
		//var second = b || 200;
		//var second = b == undefined? 200:b;
		//var third = c || 300;
		//var third = c == undefined? 300:c;
		here.innerHTML = a+b+c;
		
	}
	function f15() {
		//NaN(Not a Number) => 숫자와 숫자가 아닌것을 연산한 경우 return값으로 나옴.
		//숫자와 문자가 섞인 것에서 숫자만 잘라오고싶을 때 Number(x) parseInt(o)
		//var su1 = Number(document.querySelector("#su1").value) + 200;
		var su1 = parseInt(document.querySelector("#su1").value) + 200;
		here.innerHTML = su1;
	}
	function f14(){
		var su1 = document.querySelector("#su1").value;
		var su2 = document.querySelector("#su2").value;
		var op = document.querySelector("#op").value;
		console.log(su1 + op + su2);
		result.value = eval(su1 + op + su2); // eval()함수로 계산식을 문자로 만들어줌
		
	}
	
	function f13() {
		 var s = "a=10;b=20;c=a+b;alert(c)";
		  eval(s);
	}
	
	function f12(){
		var url = "http://localhost:9090/webproject/0_day6/인코딩연습.jsp?name=홍길동"
		here.innerHTML = encodeURIComponent(url);
		here.innerHTML += "<hr>" + decodeURIComponent(here.innerHTML);
	
	}
	function f11(){
		var arr = [10,20,30];
		//foreach에 function을 넘겨줌 => callback
		arr.forEach(function(element, index, array){//10,20,30각각의 값마다 세 변수가 들어있는 것.
			alert(element + "=>" + index);
		});
	}
	
	function f10() {
		//for(let i = 0; i<3 ; i++) {//let는 for블럭내에서만 사용가능 -i를 var로 주면 끝났을 때 수인 3만 넘겨받게됨.
		//	//setTimeout(function(){alert(i);},10);
		//	(function(){
		//		setTimeout(function(){alert(i);},10);
		//	})(i);
		//}
		
		//var로 하는 법 
		for(var i=0; i<3; i++){
		  
		  (function(arg){
			  setTimeout(function(){ alert(arg);}, 10);  
		  })(i)
		  
		  
	  } 
	  //해결1....let
	  //해결2....var로 두고 i를 매개변수로 넘기고 즉시실행함수
	  //해결3....ES6  forEach
	  var arr = [100,200,300];
	  arr.forEach(function(elet,index,obj ){
		  console.log(elet, index, obj);
	  });
	}
	var result9 = add(0);
	var result10 = add(100);
	function f9() {
		document.querySelector("#here").innerHTML = result10();
	}
	function add() {
		var counter = 0;
		return function() { counter++; return counter;};
	}
	
	function f8() {
		//클로저: 규칙위반
		//지역변수는 ㅣㅈ역을 벗어나면 소멸된다. return 함수에 지역변수가 들어있으면 사라지지 않고 계속 사용가능(클로저)
		var result = call8();
		document.querySelector("#here").innerHTML = result();
	}
	function call8(){
		 var i=100;
		  var f = function(){
			  i++;
			  return i;
		  };
		  return f;
	}
	function f7() {
		clearInterval(timer1);
	}
	function f6() {
	//	setTimeout(call6, 1000); //1초후 call6함수가 호출된다. 
		timer1 = setInterval(call6, 1000); //1초마다 call6함수가 호출된다.
	}
	function call6() {
		document.querySelector("#here").innerHTML += "<br>" + new Date();
	}
	function f5() {
		//익명함수를 call2에 
		var call2 = function() {
			document.querySelector("#here").innerHTML = "callback함수";
		};
		call3(call2);
	}
	//callback함수 : 매개변수로 전달되는 함수, 받은 쪽에서 호출한다.
	function call3(f) {
		f();
	}

	function f4() {
		var width = 10;
		var height = 20;
		var result = Math.sqrt(sqrt(width) + sqrt(height));
		document.querySelector("#here").innerHTML = result;
		//내부함수 ( 함수 안에서만 사용할 때 )
		function sqrt(a) {
			return a * a;
		}
	}

	function sqrt(a, b, c) {
		return a;
	}
	//함수이름을 부여함(선언적 함수 )
	function f1() {

		var call = function(a, b) {
			document.querySelector("#here").innerHTML = "<h1>익명함수:" + (a + b)
					+ "</h1>";
		};
		call(1, 2); //함수호출 
		console.log(call);
	}
	function f2() {
		(function(a, b) {
			document.querySelector("#here").innerHTML = "<h1>익명함수(즉시실행):"
					+ (a + b) + "</h1>";
		})(100, 200);
	}
	function f3() {
		document.querySelector("#here").innerHTML = sumAll(1, 2);
	}
	//argument개수는 일치하지 않아도 무관, 보낸갯수보다 적으면 undefined
	//NaN(Not a Number)
	function sumAll() {
		var total = 0;
		for (let i = 0; i < arguments.length; i++) {
			total += arguments[i];
		}

		return total;
	}
	//같은 이름의 함수가 있으면 나중것이 적용된다. (덮어짐)
	function sumAll() {
		return 100;
	}
</script>
</head>
<body>
	<h1>Function</h1>
	<button id="btn1">익명함수</button>
	<button id="btn2">즉시실행함수</button>
	<button id="btn3">가변인자</button>
	<button id="btn4">내부함수</button>
	<button id="btn5">콜백함수</button>
	<button id="btn6">콜백함수-시계</button>
	<button id="btn7">콜백함수-시계멈춤</button>
	<button id="btn8">함수리턴(클로저사용)</button>
	<button id="btn9">counter(클로저이용)</button>
	<button id="btn10">클로저이용</button>
	<button id="btn11">클로저이용(ES6기능)</button>
	<button id="btn12">인코딩 디코딩</button>
	<button id="btn13">eval()함수</button>
	<button id="btn15">변환함수</button>
	<button id="btn16">매개변수의 default값</button>
	
	<hr>
	
	<input type="number" id="su1">
	<select id="op">
		<option value="+">더하기</option>
		<option value="-">빼기</option>
		<option value="*">곱하기</option>
		<option value="/">나누기</option>
	</select>
	<input type="number" id="su2">
	<button id="btn14">=</button>
	<input type="number" readonly="readonly" id="result">
	<hr>
	<div id="here">여기</div>
</body>
</html>